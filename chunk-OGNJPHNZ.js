import{a as Y,b as J}from"./chunk-7AOHD2UD.js";import{a as q,b as H}from"./chunk-ZQ646CWT.js";import{b as G}from"./chunk-CIH4AVPR.js";import{b as j,g as F,h as R,j as N,k as K,l as z,m as U}from"./chunk-IMAXPIZZ.js";import{B as W,D as L,u as B,z as A}from"./chunk-YHCOEZBY.js";import{h as P}from"./chunk-RG545CFP.js";import{Ad as k,Fb as b,Fd as O,Gb as n,Hb as _,Ib as w,Id as D,Kb as p,Kd as I,La as c,Lb as u,Ld as V,Mb as S,Md as T,Pa as h,Wa as y,pa as m,pb as t,qa as d,qb as e,tb as x,tc as E,vb as g}from"./chunk-GFOZWZLX.js";var Q=class v{constructor(s,l){this.storageService=s;this.snackBar=l}settings;appVersion="1.0.0";statCount={identities:0,credentials:0,totalStorage:"0 KB"};ngOnInit(){this.loadSettings(),this.calculateStats()}loadSettings(){this.settings=this.storageService.getSettings()}saveSettings(){this.storageService.saveSettings(this.settings),this.snackBar.open("Settings saved successfully","Close",{duration:3e3,panelClass:"success-snackbar"})}resetSettings(){confirm("Are you sure you want to reset all settings to default?")&&(this.settings=this.storageService.resetSettings(),this.snackBar.open("Settings reset to default","Close",{duration:3e3}))}calculateStats(){let s="identity-workbench-identities",l="identity-workbench-credentials",i=this.storageService.get(s)||[],r=this.storageService.get(l)||[],a=0,o=localStorage.getItem(this.storageService.SETTINGS_KEY);o&&(a+=o.length*2);let C=localStorage.getItem(s);C&&(a+=C.length*2);let M=localStorage.getItem(l);M&&(a+=M.length*2);let f;a<1024?f=`${a} B`:a<1024*1024?f=`${(a/1024).toFixed(1)} KB`:f=`${(a/(1024*1024)).toFixed(1)} MB`,this.statCount={identities:i.length,credentials:r.length,totalStorage:f}}importData(s){let l=s.target.files[0];if(!l)return;let i=new FileReader;i.onload=r=>{try{let a=JSON.parse(r.target?.result);if(!a||typeof a!="object")throw new Error("Invalid data format");this.storageService.importData(a),this.loadSettings(),this.calculateStats(),this.snackBar.open("Data imported successfully","Close",{duration:3e3,panelClass:"success-snackbar"})}catch(a){console.error("Import error:",a),this.snackBar.open("Failed to import data. Invalid format.","Close",{duration:3e3,panelClass:"error-snackbar"})}s.target.value=""},i.onerror=()=>{this.snackBar.open("Error reading file","Close",{duration:3e3,panelClass:"error-snackbar"})},i.readAsText(l)}exportAllData(){try{let s=this.storageService.getAllData(),l=JSON.stringify(s,null,2),i=new Blob([l],{type:"application/json"}),r=window.URL.createObjectURL(i),a=document.createElement("a"),o=new Date().toISOString().replace(/[:.]/g,"-");a.download=`identity-workbench-export-${o}.json`,a.href=r,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(r),document.body.removeChild(a),this.snackBar.open("Data exported successfully","Close",{duration:3e3,panelClass:"success-snackbar"})}catch(s){console.error("Export error:",s),this.snackBar.open("Failed to export data","Close",{duration:3e3,panelClass:"error-snackbar"})}}clearAllData(){confirm("Are you sure you want to clear all data? This action cannot be undone.")&&(this.storageService.clear(),this.calculateStats(),this.snackBar.open("All data has been cleared","Close",{duration:3e3,panelClass:"success-snackbar"}))}applyTheme(s){this.settings.appearance.theme=s,this.saveSettings()}static \u0275fac=function(l){return new(l||v)(h(T),h(z))};static \u0275cmp=y({type:v,selectors:[["app-settings"]],decls:138,vars:9,consts:[["fileInput",""],[1,"page-container"],[1,"page-header"],[1,"primary-text"],[1,"settings-container"],[1,"settings-section","card"],[1,"section-header"],[1,"setting-item"],[1,"setting-label"],["appearance","outline"],[3,"ngModelChange","selectionChange","ngModel"],["value","dark"],["value","light"],["value","system","disabled",""],[1,"setting-item","toggle"],[1,"setting-info"],[1,"setting-description"],["color","primary",3,"ngModelChange","ngModel"],["matInput","",3,"ngModelChange","ngModel"],[1,"stats-grid"],[1,"stat-item"],[1,"stat-value"],[1,"stat-label"],[1,"data-actions"],[1,"import-wrapper"],["mat-stroked-button","","color","primary",1,"import-btn",3,"click"],["type","file","accept",".json",2,"display","none",3,"change"],["mat-stroked-button","","color","primary",3,"click"],["mat-stroked-button","","color","warn",3,"click"],[1,"about-content"],[1,"app-info"],[1,"app-links"],["href","https://github.com/sondreb/identity-workbench","target","_blank",1,"app-link"],["href","#","target","_blank",1,"app-link"],[1,"settings-actions"],["mat-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(l,i){if(l&1){let r=x();t(0,"div",1)(1,"div",2)(2,"h1",3),n(3,"Settings"),e(),t(4,"p"),n(5,"Configure your Identity Workbench application"),e()(),t(6,"div",4)(7,"div",5)(8,"div",6)(9,"mat-icon"),n(10,"palette"),e(),t(11,"h2"),n(12,"Appearance"),e()(),t(13,"div",7)(14,"span",8),n(15,"Theme"),e(),t(16,"mat-form-field",9)(17,"mat-label"),n(18,"Select Theme"),e(),t(19,"mat-select",10),S("ngModelChange",function(o){return m(r),u(i.settings.appearance.theme,o)||(i.settings.appearance.theme=o),d(o)}),g("selectionChange",function(){return m(r),d(i.applyTheme(i.settings.appearance.theme))}),t(20,"mat-option",11),n(21,"Dark (Neon)"),e(),t(22,"mat-option",12),n(23,"Light"),e(),t(24,"mat-option",13),n(25,"System Default (Coming Soon)"),e()()()()(),t(26,"div",5)(27,"div",6)(28,"mat-icon"),n(29,"shield"),e(),t(30,"h2"),n(31,"Privacy & Security"),e()(),t(32,"div",14)(33,"div",15)(34,"span",8),n(35,"Store Private Keys"),e(),t(36,"span",16),n(37,"Allow storage of private keys for signing operations"),e()(),t(38,"mat-slide-toggle",17),S("ngModelChange",function(o){return m(r),u(i.settings.privacy.storePrivateKeys,o)||(i.settings.privacy.storePrivateKeys=o),d(o)}),e()(),t(39,"div",14)(40,"div",15)(41,"span",8),n(42,"Auto Verify"),e(),t(43,"span",16),n(44,"Automatically verify credentials when imported"),e()(),t(45,"mat-slide-toggle",17),S("ngModelChange",function(o){return m(r),u(i.settings.privacy.autoVerify,o)||(i.settings.privacy.autoVerify=o),d(o)}),e()()(),t(46,"div",5)(47,"div",6)(48,"mat-icon"),n(49,"build"),e(),t(50,"h2"),n(51,"Advanced"),e()(),t(52,"div",7)(53,"span",8),n(54,"DID Resolver Endpoint"),e(),t(55,"mat-form-field",9)(56,"mat-label"),n(57,"Resolver URL"),e(),t(58,"input",18),S("ngModelChange",function(o){return m(r),u(i.settings.advanced.resolverEndpoint,o)||(i.settings.advanced.resolverEndpoint=o),d(o)}),e()()(),t(59,"div",14)(60,"div",15)(61,"span",8),n(62,"Debug Mode"),e(),t(63,"span",16),n(64,"Enable additional diagnostic information"),e()(),t(65,"mat-slide-toggle",17),S("ngModelChange",function(o){return m(r),u(i.settings.advanced.enableDebugMode,o)||(i.settings.advanced.enableDebugMode=o),d(o)}),e()()(),t(66,"div",5)(67,"div",6)(68,"mat-icon"),n(69,"storage"),e(),t(70,"h2"),n(71,"Data Management"),e()(),t(72,"div",19)(73,"div",20)(74,"span",21),n(75),e(),t(76,"span",22),n(77,"Identities"),e()(),t(78,"div",20)(79,"span",21),n(80),e(),t(81,"span",22),n(82,"Credentials"),e()(),t(83,"div",20)(84,"span",21),n(85),e(),t(86,"span",22),n(87,"Storage Used"),e()()(),t(88,"div",23)(89,"div",24)(90,"button",25),g("click",function(){m(r);let o=b(95);return d(o.click())}),t(91,"mat-icon"),n(92,"file_upload"),e(),n(93," Import Data "),e(),t(94,"input",26,0),g("change",function(o){return m(r),d(i.importData(o))}),e()(),t(96,"button",27),g("click",function(){return m(r),d(i.exportAllData())}),t(97,"mat-icon"),n(98,"file_download"),e(),n(99," Export Data "),e(),t(100,"button",28),g("click",function(){return m(r),d(i.clearAllData())}),t(101,"mat-icon"),n(102,"delete_forever"),e(),n(103," Clear All Data "),e()()(),t(104,"div",5)(105,"div",6)(106,"mat-icon"),n(107,"info"),e(),t(108,"h2"),n(109,"About"),e()(),t(110,"div",29)(111,"div",30)(112,"h3"),n(113,"Identity Workbench"),e(),t(114,"p"),n(115),e(),t(116,"p"),n(117,"A modern tool for managing DIDs and Verifiable Credentials"),e()(),t(118,"div",31)(119,"a",32)(120,"mat-icon"),n(121,"code"),e(),n(122," Source Code "),e(),t(123,"a",33)(124,"mat-icon"),n(125,"help_outline"),e(),n(126," Documentation "),e(),t(127,"a",33)(128,"mat-icon"),n(129,"bug_report"),e(),n(130," Report Issue "),e()()()(),t(131,"div",34)(132,"button",35),g("click",function(){return m(r),d(i.resetSettings())}),n(133," Reset to Default "),e(),t(134,"button",36),g("click",function(){return m(r),d(i.saveSettings())}),t(135,"mat-icon"),n(136,"save"),e(),n(137," Save Settings "),e()()()()}l&2&&(c(19),p("ngModel",i.settings.appearance.theme),c(19),p("ngModel",i.settings.privacy.storePrivateKeys),c(7),p("ngModel",i.settings.privacy.autoVerify),c(13),p("ngModel",i.settings.advanced.resolverEndpoint),c(7),p("ngModel",i.settings.advanced.enableDebugMode),c(10),_(i.statCount.identities),c(5),_(i.statCount.credentials),c(5),_(i.statCount.totalStorage),c(30),w("Version ",i.appVersion,""))},dependencies:[E,L,B,A,W,D,O,P,G,R,F,j,V,I,K,N,H,q,k,J,Y,U],styles:[".page-header[_ngcontent-%COMP%]{margin-bottom:30px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:5px;color:var(--primary-color)}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);margin:0}.settings-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.settings-section[_ngcontent-%COMP%]{margin-bottom:30px;padding:20px;background-color:var(--card-bg);border-radius:4px;box-shadow:0 2px 4px #00000024}.section-header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px}.section-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;height:24px;width:24px;color:var(--primary-color);margin-right:10px}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:400}.setting-item[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;align-items:center}.setting-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.setting-item.toggle[_ngcontent-%COMP%]{justify-content:space-between}.setting-info[_ngcontent-%COMP%]{flex:1}.setting-label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:500}.setting-description[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary)}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:15px;margin-bottom:20px}.stat-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:15px;background-color:#0003;border-radius:8px}.stat-value[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:300;color:var(--primary-color);margin-bottom:5px}.stat-label[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary)}.data-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.import-wrapper[_ngcontent-%COMP%]{position:relative;overflow:hidden}.import-wrapper[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;cursor:pointer}.about-content[_ngcontent-%COMP%]{text-align:center}.app-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;font-size:1.3rem;color:var(--primary-color)}.app-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;color:var(--text-secondary)}.app-links[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;gap:20px;flex-wrap:wrap}.app-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.settings-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin:20px 0}@media (max-width: 768px){.setting-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.setting-item.toggle[_ngcontent-%COMP%]{flex-direction:row}.setting-label[_ngcontent-%COMP%]{margin-bottom:10px}mat-form-field[_ngcontent-%COMP%]{width:100%}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.data-actions[_ngcontent-%COMP%]{flex-direction:column}.data-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .import-wrapper[_ngcontent-%COMP%]{width:100%}.app-links[_ngcontent-%COMP%]{flex-direction:column;gap:15px}}"]})};export{Q as SettingsComponent};
